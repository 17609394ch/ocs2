<?xml version="1.0" ?>

<launch>
    <arg name="rviz"               default="true" />
    <arg name="multiplot"          default="false"/>
    <arg name="task_name"          default="mpc"/>
    <arg name="description_name"   default="legged_robot_description"/>
    <arg name="description_file"   default="$(find anymal_c_simple_description)/urdf/anymal.urdf"/>
    
    <group if="$(arg rviz)">
        <include file="$(find ocs2_legged_robot_example)/launch/visualize.launch"/>
    </group>

    <group if="$(arg multiplot)">
      <include file="$(find ocs2_legged_robot_example)/launch/multiplot.launch"/>
    </group>

    <include file="$(find anymal_c_simple_description)/launch/load.launch" pass_all_args="true"/>

    <node pkg="ocs2_legged_robot_example" type="legged_robot_mpc" name="legged_robot_mpc"
          output="screen" args="$(arg task_name)" launch-prefix=""/>

    <node pkg="ocs2_legged_robot_example" type="legged_robot_dummy" name="legged_robot_dummy"
          output="screen" args="$(arg task_name)" launch-prefix="gnome-terminal --"/>

    <node pkg="ocs2_legged_robot_example" type="legged_robot_target" name="legged_robot_target"
          output="screen" launch-prefix="gnome-terminal --"/>

    <node pkg="ocs2_legged_robot_example" type="legged_robot_gait_command" name="legged_robot_gait_command"
          output="screen" launch-prefix="gnome-terminal --"/>
</launch>
