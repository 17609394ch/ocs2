; Mode sequence
subsystemsSequence
{
  [0]     0
}
; Template mode sequence
templateSubsystemsSequence
{
  [0]     0
}
templateSwitchingTimes
{
}

; DDP settings
ddp
{
  algorithm                    SLQ

  nThreads                     1

  maxNumIterations             10
  minRelCost                   0.1
  constraintTolerance          1e-3

  displayInfo                  false
  displayShortSummary          true
  debugPrintRollout            false
  checkNumericalStability      true

  AbsTolODE                    1e-9
  RelTolODE                    1e-6
  minTimeStep                  1e-3
  maxNumStepsPerSecond         100000
  backwardPassIntegratorType   ODE45

  inequalityConstraintMu       100.0
  inequalityConstraintDelta    1.1

  preComputeRiccatiTerms       true

  useFeedbackPolicy            true
  
  strategy                       LINE_SEARCH
  lineSearch
  {
    minStepLength              1.0
    maxStepLength              1.0
    hessianCorrectionStrategy  EIGENVALUE_MODIFICATION
    hessianCorrectionMultiple  1e-3
  }
}

; Rollout settings
rollout
{
  AbsTolODE                    1e-9
  RelTolODE                    1e-6
  minTimeStep                  1e-3
  maxNumStepsPerSecond         100000
  checkNumericalStability      true
}

; MPC settings
mpc
{
  timeHorizon                 2.5
  numPartitions               2
  runtimeMaxNumIterations     1
  initMaxNumIterations        100
  runtimeMaxStepLength        1.0
  runtimeMinStepLength        1.0
  initMinStepLength           0.1
  initMaxStepLength           1.0
  coldStart                   false
  solutionTimeWindow          -1   ; maximum [s]
  mpcDesiredFrequency         100  ; [Hz]
  mrtDesiredFrequency         400  ; [Hz]
  debugPrint                  true
}


; initial state
initialState
{
  (0,0) 0.0    ; x1
  (1,0) 0.0    ; x2
}

; state weight matrix
Q
{
  scaling 1e-1
  (0,0)  1.0 ; x1
  (1,1)  1.0 ; x2
}


; control weight matrix
R
{
  scaling 1e-2
  (0,0)  1.0
}

; final state weight matrix
Q_final
{
  scaling 1e+1
  (0,0)  2.7064  ; x11
  (0,1)  3.1623  ; x12
  (1,0)  3.1623  ; x21
  (1,1)  8.5584  ; x22
}

; final goal
x_final
{
  (0,0) 2.0    ; x1
  (1,0) 0.0    ; x2
}

